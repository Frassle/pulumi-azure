// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Linq;

namespace Pulumi.Azure.Storage {

	public sealed class GetAccountSASArgsPermission : Pulumi.IProtobuf {
		public bool Add { get; set; }
		public bool Create { get; set; }
		public bool Delete { get; set; }
		public bool List { get; set; }
		public bool Process { get; set; }
		public bool Read { get; set; }
		public bool Update { get; set; }
		public bool Write { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("add", Protobuf.ToProtobuf(Add)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("create", Protobuf.ToProtobuf(Create)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("delete", Protobuf.ToProtobuf(Delete)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("list", Protobuf.ToProtobuf(List)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("process", Protobuf.ToProtobuf(Process)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("read", Protobuf.ToProtobuf(Read)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("update", Protobuf.ToProtobuf(Update)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("write", Protobuf.ToProtobuf(Write)));
		} // ToProtobuf

	} // GetAccountSASArgsPermission

	public sealed class GetAccountSASArgsResourceType : Pulumi.IProtobuf {
		public bool Container { get; set; }
		public bool Object { get; set; }
		public bool Service { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("container", Protobuf.ToProtobuf(Container)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("object", Protobuf.ToProtobuf(Object)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("service", Protobuf.ToProtobuf(Service)));
		} // ToProtobuf

	} // GetAccountSASArgsResourceType

	public sealed class GetAccountSASArgsService : Pulumi.IProtobuf {
		public bool Blob { get; set; }
		public bool File { get; set; }
		public bool Queue { get; set; }
		public bool Table { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("blob", Protobuf.ToProtobuf(Blob)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("file", Protobuf.ToProtobuf(File)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("queue", Protobuf.ToProtobuf(Queue)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("table", Protobuf.ToProtobuf(Table)));
		} // ToProtobuf

	} // GetAccountSASArgsService

	/// <summary>
	/// A collection of arguments for invoking getAccountSAS.
	/// </summary>
	public struct GetAccountSASArgs {
		/// <summary>
		/// The connection string for the storage account to which this SAS applies. Typically directly from the `primary_connection_string` attribute of a terraform created `azurerm_storage_account` resource.
		/// </summary>
		public string ConnectionString { get; set; }

		/// <summary>
		/// The expiration time and date of this SAS. Must be a valid ISO-8601 format time/date string.
		/// </summary>
		public string Expiry { get; set; }

		/// <summary>
		/// Only permit `https` access. If `false`, both `http` and `https` are permitted. Defaults to `true`.
		/// </summary>
		public bool HttpsOnly { get; set; }

		/// <summary>
		/// A `permissions` block as defined below.
		/// </summary>
		public GetAccountSASArgsPermission Permissions { get; set; }

		/// <summary>
		/// A `resource_types` block as defined below.
		/// </summary>
		public GetAccountSASArgsResourceType ResourceTypes { get; set; }

		/// <summary>
		/// A `services` block as defined below.
		/// </summary>
		public GetAccountSASArgsService Services { get; set; }

		/// <summary>
		/// The starting time and date of validity of this SAS. Must be a valid ISO-8601 format time/date string.
		/// </summary>
		public string Start { get; set; }

	} // GetAccountSASArgs

	/// <summary>
	/// A collection of values returned by getAccountSAS.
	/// </summary>
	public struct GetAccountSASResult {
		/// <summary>
		/// The computed Account Shared Access Signature (SAS).
		/// </summary>
		public string Sas { get; set; }

		/// <summary>
		/// id is the provider-assigned unique ID for this managed resource.
		/// </summary>
		public string Id { get; set; }

	} // GetAccountSASResult

	public static partial class StorageModule {
		/// <summary>
		/// Use this data source to obtain a Shared Access Signature (SAS Token) for an existing Storage Account.
		/// 
		/// Shared access signatures allow fine-grained, ephemeral access control to various aspects of an Azure Storage Account.
		/// 
		/// Note that this is an [Account SAS](https://docs.microsoft.com/en-us/rest/api/storageservices/constructing-an-account-sas)
		/// and *not* a [Service SAS](https://docs.microsoft.com/en-us/rest/api/storageservices/constructing-a-service-sas).
		/// </summary>
		public static System.Threading.Tasks.Task<GetAccountSASResult> GetAccountSAS(GetAccountSASArgs args, Pulumi.InvokeOptions opts = default(Pulumi.InvokeOptions)) {
			var invokeArgs = new Google.Protobuf.WellKnownTypes.Struct();
			invokeArgs.Fields["connectionString"] = Protobuf.ToProtobuf(args.ConnectionString);
			invokeArgs.Fields["expiry"] = Protobuf.ToProtobuf(args.Expiry);
			invokeArgs.Fields["httpsOnly"] = Protobuf.ToProtobuf(args.HttpsOnly);
			invokeArgs.Fields["permissions"] = Protobuf.ToProtobuf(args.Permissions);
			invokeArgs.Fields["resourceTypes"] = Protobuf.ToProtobuf(args.ResourceTypes);
			invokeArgs.Fields["services"] = Protobuf.ToProtobuf(args.Services);
			invokeArgs.Fields["start"] = Protobuf.ToProtobuf(args.Start);

			var task = Pulumi.Runtime.InvokeAsync("azure:storage/getAccountSAS:getAccountSAS", invokeArgs, opts);

			return task.ContinueWith(response => {
				var protobuf = response.Result;
				var result = new GetAccountSASResult();
				if (protobuf.Fields.ContainsKey("sas")) {
					result.Sas = Protobuf.ToString(protobuf.Fields["sas"]);
				}
				if (protobuf.Fields.ContainsKey("id")) {
					result.Id = Protobuf.ToString(protobuf.Fields["id"]);
				}
				return result;
			});
		} // GetAccountSAS

	} // StorageModule
} // Pulumi.Azure.Storage
