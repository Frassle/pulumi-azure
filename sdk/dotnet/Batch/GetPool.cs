// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Linq;

namespace Pulumi.Azure.Batch {

	public sealed class GetPoolArgsStartTaskArgsUserIdentityArgsAutoUser : Pulumi.IProtobuf {
		public string ElevationLevel { get; set; }
		public string Scope { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("elevation_level", Protobuf.ToProtobuf(ElevationLevel)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("scope", Protobuf.ToProtobuf(Scope)));
		} // ToProtobuf

	} // GetPoolArgsStartTaskArgsUserIdentityArgsAutoUser

	public sealed class GetPoolArgsStartTaskArgsUserIdentity : Pulumi.IProtobuf {
		public GetPoolArgsStartTaskArgsUserIdentityArgsAutoUser[] AutoUser { get; set; }
		public string UserName { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("auto_user", Protobuf.ToProtobuf(AutoUser, item => Protobuf.ToProtobuf(item))),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("user_name", Protobuf.ToProtobuf(UserName)));
		} // ToProtobuf

	} // GetPoolArgsStartTaskArgsUserIdentity

	public sealed class GetPoolArgsStartTask : Pulumi.IProtobuf {
		public string CommandLine { get; set; }
		public System.Collections.Generic.Dictionary<string, string> Environment { get; set; }
		public int MaxTaskRetryCount { get; set; }
		public GetPoolArgsStartTaskArgsUserIdentity[] UserIdentity { get; set; }
		public bool WaitForSuccess { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("command_line", Protobuf.ToProtobuf(CommandLine)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("environment", Protobuf.ToProtobuf(Environment)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("max_task_retry_count", Protobuf.ToProtobuf(MaxTaskRetryCount)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("user_identity", Protobuf.ToProtobuf(UserIdentity, item => Protobuf.ToProtobuf(item))),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("wait_for_success", Protobuf.ToProtobuf(WaitForSuccess)));
		} // ToProtobuf

	} // GetPoolArgsStartTask

	public sealed class GetPoolAutoScale : Pulumi.IProtobuf {
		public string EvaluationInterval { get; set; }
		public string Formula { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("evaluation_interval", Protobuf.ToProtobuf(EvaluationInterval)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("formula", Protobuf.ToProtobuf(Formula)));
		} // ToProtobuf

		public static GetPoolAutoScale FromProtobuf(Google.Protobuf.WellKnownTypes.Value value) {
			var obj = value.StructValue;
			var result = new GetPoolAutoScale();
				if (obj.Fields.ContainsKey("evaluation_interval")) {
					result.EvaluationInterval = Protobuf.ToString(obj.Fields["evaluation_interval"]);
				}
				if (obj.Fields.ContainsKey("formula")) {
					result.Formula = Protobuf.ToString(obj.Fields["formula"]);
				}
			return result;
		} // FromProtobuf

	} // GetPoolAutoScale

	public sealed class GetPoolFixedScale : Pulumi.IProtobuf {
		public string ResizeTimeout { get; set; }
		public int TargetDedicatedNodes { get; set; }
		public int TargetLowPriorityNodes { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("resize_timeout", Protobuf.ToProtobuf(ResizeTimeout)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("target_dedicated_nodes", Protobuf.ToProtobuf(TargetDedicatedNodes)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("target_low_priority_nodes", Protobuf.ToProtobuf(TargetLowPriorityNodes)));
		} // ToProtobuf

		public static GetPoolFixedScale FromProtobuf(Google.Protobuf.WellKnownTypes.Value value) {
			var obj = value.StructValue;
			var result = new GetPoolFixedScale();
				if (obj.Fields.ContainsKey("resize_timeout")) {
					result.ResizeTimeout = Protobuf.ToString(obj.Fields["resize_timeout"]);
				}
				if (obj.Fields.ContainsKey("target_dedicated_nodes")) {
					result.TargetDedicatedNodes = Protobuf.ToInt(obj.Fields["target_dedicated_nodes"]);
				}
				if (obj.Fields.ContainsKey("target_low_priority_nodes")) {
					result.TargetLowPriorityNodes = Protobuf.ToInt(obj.Fields["target_low_priority_nodes"]);
				}
			return result;
		} // FromProtobuf

	} // GetPoolFixedScale

	public sealed class GetPoolStorageImageReference : Pulumi.IProtobuf {
		public string Id { get; set; }
		public string Offer { get; set; }
		public string Publisher { get; set; }
		public string Sku { get; set; }
		public string Version { get; set; }

		public Google.Protobuf.WellKnownTypes.Value ToProtobuf() {
			return Protobuf.ToProtobuf(
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("id", Protobuf.ToProtobuf(Id)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("offer", Protobuf.ToProtobuf(Offer)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("publisher", Protobuf.ToProtobuf(Publisher)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("sku", Protobuf.ToProtobuf(Sku)),
				new KeyValuePair<string, Google.Protobuf.WellKnownTypes.Value>("version", Protobuf.ToProtobuf(Version)));
		} // ToProtobuf

		public static GetPoolStorageImageReference FromProtobuf(Google.Protobuf.WellKnownTypes.Value value) {
			var obj = value.StructValue;
			var result = new GetPoolStorageImageReference();
				if (obj.Fields.ContainsKey("id")) {
					result.Id = Protobuf.ToString(obj.Fields["id"]);
				}
				if (obj.Fields.ContainsKey("offer")) {
					result.Offer = Protobuf.ToString(obj.Fields["offer"]);
				}
				if (obj.Fields.ContainsKey("publisher")) {
					result.Publisher = Protobuf.ToString(obj.Fields["publisher"]);
				}
				if (obj.Fields.ContainsKey("sku")) {
					result.Sku = Protobuf.ToString(obj.Fields["sku"]);
				}
				if (obj.Fields.ContainsKey("version")) {
					result.Version = Protobuf.ToString(obj.Fields["version"]);
				}
			return result;
		} // FromProtobuf

	} // GetPoolStorageImageReference

	/// <summary>
	/// A collection of arguments for invoking getPool.
	/// </summary>
	public struct GetPoolArgs {
		public string AccountName { get; set; }

		public string Name { get; set; }

		public string ResourceGroupName { get; set; }

		public GetPoolArgsStartTask StartTask { get; set; }

	} // GetPoolArgs

	/// <summary>
	/// A collection of values returned by getPool.
	/// </summary>
	public struct GetPoolResult {
		/// <summary>
		/// A `auto_scale` block that describes the scale settings when using auto scale.
		/// </summary>
		public GetPoolAutoScale[] AutoScales { get; set; }

		public string DisplayName { get; set; }

		/// <summary>
		/// A `fixed_scale` block that describes the scale settings when using fixed scale.
		/// </summary>
		public GetPoolFixedScale[] FixedScales { get; set; }

		/// <summary>
		/// The Sku of the node agents in the Batch pool.
		/// </summary>
		public string NodeAgentSkuId { get; set; }

		/// <summary>
		/// The reference of the storage image used by the nodes in the Batch pool.
		/// </summary>
		public GetPoolStorageImageReference[] StorageImageReferences { get; set; }

		/// <summary>
		/// The size of the VM created in the Batch pool.
		/// </summary>
		public string VmSize { get; set; }

		/// <summary>
		/// id is the provider-assigned unique ID for this managed resource.
		/// </summary>
		public string Id { get; set; }

	} // GetPoolResult

	public static partial class BatchModule {
		/// <summary>
		/// Use this data source to access information about an existing Batch pool
		/// </summary>
		public static System.Threading.Tasks.Task<GetPoolResult> GetPool(GetPoolArgs args, Pulumi.InvokeOptions opts = default(Pulumi.InvokeOptions)) {
			var invokeArgs = new Google.Protobuf.WellKnownTypes.Struct();
			invokeArgs.Fields["accountName"] = Protobuf.ToProtobuf(args.AccountName);
			invokeArgs.Fields["name"] = Protobuf.ToProtobuf(args.Name);
			invokeArgs.Fields["resourceGroupName"] = Protobuf.ToProtobuf(args.ResourceGroupName);
			invokeArgs.Fields["startTask"] = Protobuf.ToProtobuf(args.StartTask);

			var task = Pulumi.Runtime.InvokeAsync("azure:batch/getPool:getPool", invokeArgs, opts);

			return task.ContinueWith(response => {
				var protobuf = response.Result;
				var result = new GetPoolResult();
				if (protobuf.Fields.ContainsKey("autoScales")) {
					result.AutoScales = Protobuf.ToList(protobuf.Fields["autoScales"], item => GetPoolAutoScale.FromProtobuf(item));
				}
				if (protobuf.Fields.ContainsKey("displayName")) {
					result.DisplayName = Protobuf.ToString(protobuf.Fields["displayName"]);
				}
				if (protobuf.Fields.ContainsKey("fixedScales")) {
					result.FixedScales = Protobuf.ToList(protobuf.Fields["fixedScales"], item => GetPoolFixedScale.FromProtobuf(item));
				}
				if (protobuf.Fields.ContainsKey("nodeAgentSkuId")) {
					result.NodeAgentSkuId = Protobuf.ToString(protobuf.Fields["nodeAgentSkuId"]);
				}
				if (protobuf.Fields.ContainsKey("storageImageReferences")) {
					result.StorageImageReferences = Protobuf.ToList(protobuf.Fields["storageImageReferences"], item => GetPoolStorageImageReference.FromProtobuf(item));
				}
				if (protobuf.Fields.ContainsKey("vmSize")) {
					result.VmSize = Protobuf.ToString(protobuf.Fields["vmSize"]);
				}
				if (protobuf.Fields.ContainsKey("id")) {
					result.Id = Protobuf.ToString(protobuf.Fields["id"]);
				}
				return result;
			});
		} // GetPool

	} // BatchModule
} // Pulumi.Azure.Batch
